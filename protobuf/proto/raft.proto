syntax = "proto3";
package anndb_pb;

import "core.proto";

service RaftTransport {
	rpc Receive(RaftMessage) returns (EmptyMessage);
	rpc ProposeJoin(RaftJoinMessage) returns (stream RaftNode);
}

message RaftNode {
	uint64 id = 1;
	string address = 2;
}

message RaftMessage {
	bytes group_id = 1;
	repeated bytes messages = 2;
}

message RaftJoinMessage {
	uint64 node_id = 1;
	bytes group_id = 2;
	string address = 3;
}